/*! waterpipe v2.9.0 | (c) misonou | https://github.com/misonou/waterpipe#readme */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("waterpipe",[],n):"object"==typeof exports?exports.waterpipe=n():e.waterpipe=n()}(this,(function(){return function(){"use strict";var e={};const n=function(){var e,n=1,t=2,r=3,a=4,o=5,u=6,i=7,s=1,c=2,l=3,f=4,d=5,h=6,p=7,g=8,v="if",y="if not",b="else",m="elseif",x="elseif not",k="foreach",M="\r\n",w="area base br col command embed hr img input keygen link meta param source track wbr !doctype !--".split(" "),S={true:!0,false:!1,undefined:void 0,null:null,0:0},A=/./.constructor,$=0,O=[],H="undefined"!=typeof Intl&&Intl.Collator&&new Intl.Collator(void 0,{caseFirst:"upper"}),I=Object.create?Object.create(null):{},C={},N=[function(e,n){return ue(e,n,1)},function(e,n){return ue(e,n,1,1)},function(e,n){return ue(e,n,-1)},function(e,n){return ue(e,n,-1,1)}];function E(e,n){var t=e.cache=e.cache||{};return t.hasOwnProperty(n)?t[n]:t[n]=e(n)}function j(e){if(!W(e)||e instanceof Date)return e;if("number"==typeof e)return new Date(e);var n=R(e);return e=new Date(n),/\d{2}:\d{2}:\d{2}/.test(n)||e.setHours(0,0,0,0),e}function P(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n}function _(e){return"function"==typeof e}function D(e){return"string"==typeof e}function T(e){return"object"==typeof e}function W(e){return null!=e}function L(e){return"object"!=typeof e||null===e}function F(e,n){return!(!W(e)||_(e[n]))&&(T(e)?e.hasOwnProperty(n)||Array.isArray(e)&&/^\d+$/.test(n):void 0!==e[n])}function q(e){return e}function z(e){return function(){return e}}function U(e){return function(n){return W(n)?n[e]:void 0}}function J(e,n){function t(e){return ae(n,(function(n){return F(n,e)}),!0)}switch(e.state()){case"func":return e.fn();case"auto":var r=e.raw(),a=e.eval(r);if(D(a)&&t(a))return E(U,a);var o=I[r];return!o||o.varargs||t(r)?E(U,r):_(o)?o:function(e){return be(o,e)}}return E(U,R(e.next()))}function K(e){try{return JSON.stringify(e)}catch(n){return String(e)}}function R(e,n){return!W(e)||e!=e||_(e)?"":D(e)?e:(n||String)(e)}function Y(e,n){return new Array((+n||0)+1).join(R(e))}function V(e,n,t){return"number"==typeof e&&(e=Y(" ",e)),(t||"")+Y(e,n)}function Z(e,n){return((e||"").length||0)-(+n||0)-1}function G(e){var n=1;"+"!==e[0]&&"-"!==e[0]||(n="-"===e[0]?-1:1,e=e.slice(1));for(var t,r=[0,0,0,0,0,0,0],a=/(\d+)([yMwdhms])/g;null!==(t=a.exec(e));)"w"===t[2]?r[2]+=7*parseInt(t[1])*n:r["yMdhms".indexOf(t[2])]+=parseInt(t[1])*n;return r}function B(e){return"/"===e.charAt(0)&&/\/((?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+)\/((?:g(?:im?|mi?)?|i(?:gm?|mg?)?|m(?:gi?|ig?)?)?)/g.test(e)&&new A(A.$1,A.$2)}function X(e){for(var n,t=[],r=/((?!^)\$)?([^$.()][^.]*)|\$\(([^)]+)\)/gi;null!==(n=r.exec(e));)t.push(n[1]||n[3]?E(X,n[3]||n[2]):"^"===n[2][0]?{fn:Z,arg:n[2].slice(1)}:n[2]);switch(t.length||(t[0]=e),t[0]){case".":case"@0":t.evalMode=s;break;case"#":case"#key":t.evalMode=c;break;case"##":case"#index":t.evalMode=l;break;case"#count":t.evalMode=f;break;case"_":case"@root":t.evalMode=s,t.stackIndex=-1;break;case"@global":t.evalMode=d;break;case"@now":t.evalMode=h;break;case"@today":t.evalMode=p;break;case"@random":t.evalMode=g;break;default:/^@(\d+)$/.test(t[0])&&(t.evalMode=s,t.stackIndex=+A.$1)}return t}function Q(e,n){var t=n?/["'<>]|&(?!#\d+;|[a-z][a-z0-9]+;)/i:/["'&<>]/;if(!t.exec(e))return e;var r="",a=0,o=0;for(a=t.lastIndex;a<e.length;a++){var u;switch(e.charCodeAt(a)){case 34:u="&quot;";break;case 38:u="&amp;";break;case 39:u="&#39;";break;case 60:u="&lt;";break;case 62:u="&gt;";break;default:continue}o!==a&&(r+=e.substring(o,a)),o=a+1,r+=u}return o!==a?r+e.substring(o,a):r}function ee(e){return R(e).replace(/[A-Z](?:[A-Z]+(?=$|[A-Z]))?/g,(function(e,n){return(n>0?"-":"")+e.toLowerCase()}))}function ne(e,n){var t,r;if(e&&"number"==typeof e.length&&e.length>=0){for(t=0,r=e.length;t<r;t++)if(!1===n(t,e[t]))return}else if(e&&T(e)){var a=Object.getOwnPropertyNames(e);for(t=0,r=a.length;t<r;t++)if(!1===n(a[t],e[a[t]]))return}}function te(){for(var e=P.apply(null,arguments),n=1,t=e.length;n<t;n++)for(var r in e[n])e[0][r]=e[n][r];return e[0]}function re(e,n,t){if(!W(e))return e;var r=Array.isArray(e)?[]:{};return ne(e,(function(a,o){n(o,a)&&(r[e.push?r.length:a]=(t||q)(o,a))})),r}function ae(e,n,t,r){var a;return ne(e,(function(e,o){if(r^!!n(o,e))return a=t||o,!1})),a}function oe(e){var n=[];return ne(e,(function(e){n.push(e)})),n}function ue(e,n,t,r){if(Array.isArray(e)&&Array.isArray(n)){for(var a,o=0,u=Math.min(e.length,n.length);o<u&&!a;o++)a=ue(e[o],n[o],t,r);return a||e.length-n.length}if(e===n)return 0;var i=!W(e)&&-1,s=!W(n)&&1;if(i||s)return(i+s)*t;if(D(e)||D(n)){if(e=R(e),n=R(n),r){if(H)return H.compare(e,n)*t;e=e.toLowerCase(),n=n.toLowerCase()}return(e>n?1:e<n?-1:0)*t}return(e-n)*t}function ie(e,n,t){var r=Array.isArray(e)?new Array(e.length):{},a=J(n,e);if(!W(e))return e;var o=[];return ne(e,(function(e,n){o.push([e,n,a(n,e)])})),o.sort((function(e,n){return t(e[2],n[2])})),ne(o,(function(n,t){r[e.push?n:t[0]]=t[1]})),r}function se(e,n){function t(){}return t.prototype=e,te(new t,n)}function ce(e,n,t,r,a){var o=e.substr(0,r||n).split("\n").reverse(),u=e.substring(e.lastIndexOf("\n",n)+1,n).replace(/^\s+/,"").substr(-20),i=e.substring(n,e.indexOf("\n",t)+1||e.length).replace(/\r?\n|\s+$/g,"").substr(0,t-n+20);return me('at line {{$0}} column {{$1}}:\n\t{{$2}}{{$3}}\n\t{{$2.length + $4 repeat " "}}{{$5 repeat ^}}',[o.length,o[0].length+1,u,i,r-n||0,a-r||t-n],{html:!1})}function le(e){return function(n,t){return e(R(n),R(t))}}function fe(e,n){this.value=e,this.index=n}function de(e,n,t,r,a){var o=this;o.textValue=n,o.value=function(e){return S.hasOwnProperty(e)?S[e]:/^(NaN|-?(?:(?:\d+|\d*\.\d+)(?:[E|e][+|-]?\d+)?|Infinity))$/.test(e)?parseFloat(e):e}(n),o.canEvaluate=o.value===o.textValue&&a,o.start=t,o.end=r,e&&(e.next=o)}function he(e,n){for(var t,r=new fe(e,n||0),a=/"("|(?:[^"\\]|\\.|"\S)*)"(?=\s|$)|`(\S+)|([^\s\\]|\\.)(?:[^\s\\]|\\.)*/gi;null!==(t=a.exec(e));)r.unshift(new de(r[0],t[2]||(void 0!==t[1]?t[1]:t[0]),r.index+t.index,r.index+a.lastIndex,!t[2]&&void 0===t[1]&&("$"===t[3]||void 0)));return r.reverse()}function pe(e){var s,c=[],l=[{}],f=[],d=0,h="",p=/\{\{([\/!]|foreach(?=\s|\})|if(?:\snot)?(?=\s)|else(?:if(?:\snot)?(?=\s))?|&?(?!\}))\s*((?:\}(?!\})|[^}])*\}*)\}\}/g;function g(n){if(!n)throw new Error("Unexpected "+s[0]+" "+ce(e,s.index,p.lastIndex))}function S(e){return he(e,s.index+s[0].indexOf(e))}function $(e,n){var t,r=c.length,a=/<(\/?)((?:[0-9a-z]+:)?[0-9a-z]+|!doctype|!--)|\/?>|-->|([^\s=\/<>"0-9.-][^\s=\/<>"]*)(?:="|$|(?=[\s=\/<>"]))|"|(\s+)/gi,o=0;function s(){return f[0].opened&&("script"===f[0].tagName||"style"===f[0].tagName)||"!--"===f[0].tagName}function d(){return f.length>(l[0].htmlStackCount||1)&&f.shift()}function h(e,n,t){if(s())c.push({op:i,value:e,ovalue:e,nvalue:e});else{var a=f[0].attrName,o=f[0].opened;if(void 0===t&&(t=e),n||a||o){var l,d=c[c.length-1],h=c[c.length-2],p=e;if(n?(p=e.replace(/^\s+/,""),t=t.replace(/^\s+/,"")):(l=e.indexOf("\n")>=0,p=e=e.replace(/^\s+/g,o&&(!d||d.op!==u)||a&&f[0].text?" ":""),l&=!(e=a?e:Q(e,!0))||" "===e),f[0].text+=e,l)return d&&(d.stripWSEnd=!1),void c.push({op:u,value:M,ovalue:t});if(e&&(f[1]&&o||" "!==e)){var g=">"===e[e.length-1];if(c.length>r&&d.op===i)d.value+=e,d.ovalue+=p,d.nvalue+=t,d.isTagEnd=g,d.stripWSEnd=n;else if(c.length>r+1&&h.op===i&&d.value!==M){var v="<"===e[0]||h.isTagEnd||!n&&!h.stripWSEnd?d.value:"";h.value+=v+e,h.ovalue+=d.ovalue+p,h.nvalue+=d.ovalue+t,h.isTagEnd=g,h.stripWSEnd=n,c.pop()}else c.push({op:i,stripWS:n,stripWSEnd:n,isTagEnd:g,value:e,ovalue:p,nvalue:t,indent:f.length-2+!!f[0].opened});return}}c.push({op:u,value:" ",ovalue:t})}}for(;null!==(t=a.exec(e));){switch(o!==t.index&&h(e.substring(o,t.index)),o=a.lastIndex,t[0].charAt(0)){case"<":if(!s()||t[1]&&t[2].toLowerCase()===f[0].tagName){for(;w.indexOf(f[0].tagName)>=0&&d(););t[1]?f[0].tagName!==t[2]||f.length<=(l[0].htmlStackCount||1)?(f[0].muteTagEnd=!0,f[0].opened=void 0):(f[0].opened=!1,h(t[0],!0)):(f.unshift({tagName:t[2].toLowerCase(),text:""}),h(t[0].toLowerCase(),!0),f[0].index=c.length-1)}else h(t[0],!0);continue;case">":case"/":case"-":if(f[0].tagName&&(!f[0].opened||"/>"===t[0]||"--\x3e"===t[0])){f[0].muteTagEnd?f[0].muteTagEnd=!1:h(t[0],!0),(!1!==f[0].opened&&"/>"!==t[0]&&"--\x3e"!==t[0]||!d())&&(f[0].opened=!0);continue}break;case'"':if(f[0].attrName&&d()){h(t[0],!0);continue}break;default:if(f[0].tagName&&!t[4]){if("!--"!==f[0].tagName&&!f[0].opened){h(" "+t[0],!0),t[0].indexOf("=")>=0&&f.unshift({attrName:t[3],text:""});continue}}else if(f[0].attrName&&'"'===t[0][t[0].length-1]){h(t[0].slice(0,-1)),d(),h('"',!0);continue}}h(t[0])}for(o!==e.length&&h(e.substr(o));f[n];){var p=f.shift().tagName;w.indexOf(p)<0&&h("</"+p+">",!0,"")}}for(e=R(e).replace(/^\r?\n/,""),f.unshift({opened:!0,text:""});null!==(s=p.exec(e));){if(d!==s.index){var O=e.substring(d,s.index);/^([^\S\r\n]*(\r?\n[^\S\r\n]*))(\S?)/.test(O)&&(O=A.$2.slice(h.length)+O.slice(A.$1.length),A.$3&&c.push({op:u,value:M,ovalue:""})),h=/(\r?\n[^\S\r\n]*)?$/.test(O)&&A.$1||"",$(O)}else h="";switch(d=p.lastIndex,s[1]){case"!":break;case"/":g(l[0]&&s[2]===l[0].tokenName),$("",l[0].htmlStackCount),l[0].token.index=c.length,l[0].tokenIf&&!l[0].tokenIf.index&&(l[0].tokenIf.index=c.length),s[2]===k&&c.push({op:r,index:l[0].tokenIndex+1}),l.shift();break;case v:case y:l.unshift({htmlStackCount:f.length,tokenIndex:c.length,tokenName:v,token:{op:t,condition:S(s[2]),negate:s[1]===y}}),c.push(l[0].token);break;case b:case m:case x:g(l[0]&&l[0].tokenName===v),$("",l[0].htmlStackCount);var H=l.splice(0,1,{htmlStackCount:l[0].htmlStackCount,tokenIndex:c.length,tokenName:v,token:{op:o}})[0];(H.tokenIf||H.token).index=c.length+1,H.token.op===o&&(l[0].token=H.token),c.push(l[0].token),s[1]!==m&&s[1]!==x||(l[0].tokenIf={op:t,condition:S(s[2]),negate:s[1]===x},c.push(l[0].tokenIf));break;case k:l.unshift({htmlStackCount:f.length,tokenIndex:c.length,tokenName:k,token:{op:a,expression:S(s[2])}}),c.push(l[0].token);break;default:h="",c.push({op:n,expression:S(s[2]),noescape:"&"===s[1],indent:f.length-1})}}$(e.substr(d),1);for(var I=c.length-1,C=0;I>=0;I--)void 0!==c[I].indent?C=c[I].indent:c[I].indent=C;return c.value=e,c}function ge(e,i,v){var y,b=[],m=i.objStack||[],x=i.iteratorStack||[],k={};function w(e){this.keys=oe(e),this.values=e}function S(e){return m[e]instanceof w?m[e].values[m[e].keys[x[e]]]:m[e]}function A(e,n){return Array.isArray(e)?R(H(e)):"object"==typeof e?e.fn(n,e.arg):e}function H(e,n){if(!e||!e[0])return H.valid=!0,S(0);var t,r=H.valid=n||!e.evalMode||e[0].length>1&&"##"!==e[0];switch(e.evalMode){case c:return m[0]instanceof w?m[0].keys[x[0]]:x[0];case l:return x[0];case f:return m[0]instanceof w?m[0].keys.length:0;case s:t=S(e.stackIndex<0?e.stackIndex+m.length:e.stackIndex||0);break;case d:t=i.globals;break;case h:t=+new Date;break;case p:(t=new Date).setHours(0,0,0,0),t=+t;break;case g:t=Math.random();break;default:for(var a=A(e[0],t),o=0,u=m.length;o<u&&!F(t=S(o),a);o++);if(o===m.length&&!(a in(t=i.globals)))return void(H.valid=!1);t=t[a]}for(var v=1,y=e.length;v<y&&W(t);v++)t=t[A(e[v],t)];return H.valid=r,_(t)?void 0:t}function C(n,t,r){t=t||0,r=r||n.length-1;for(var a=[],o=H(),u=t,s=t,c={globals:i.globals,eval:function(e){return H(E(X,e))},stop:function(){return u=r+1,l},push:function(e){return a.push(e),e},reset:function(){return s=u,c.next()},hasArgs:function(){return u<=r},state:function(){return u>r?"end":n[u].length()?"func":void 0===n[u].canEvaluate?"auto":n[u].canEvaluate?"path":"const"},raw:function(){return u<=r?c.fn()||n[u++].value:void 0},next:function(e){var t=s===u;if(u>r)return t?o:void 0;if(!1===n[u].canEvaluate)return n[u++].value;var a=c.fn();if(a)return a(t?o:l);var i=H(n[u].objectPath(),t);return n[u].canEvaluate||H.valid&&(t||e||!L(l)||L(i))?(++u,i):t?o:n[u++].value},fn:function(e){var t=u,a=u<=r&&n[u].length();return a?(u+=a+1,function(e,r){try{return m.unshift(arguments.length?e:l),x.unshift(r),C(n,t+1,t+a-1)}finally{m.shift(),x.shift()}}):_(e)?e(c.next()):void 0}},l=c.reset();u<=r;){var f=u,d=n[u++].textValue;try{var h=I[d]||I.__default__(d);if(_(h))if(h.varargs)l=h.call(i.globals,l,c);else switch(h.length){case 1:l=h.call(i.globals,l);break;case 2:l=h.call(i.globals,l,c.next());break;case 3:l=h.call(i.globals,l,c.next(),c.next());break;case 4:l=h.call(i.globals,l,c.next(),c.next(),c.next());break;default:var p=new Array(h.length);p[0]=l;for(var g=1,v=h.length;g<v;g++)p[g]=c.next();l=h.apply(i.globals,p)}else if(D(h))l=ve(l,h);else{if(f!==s)throw new Error("Invalid pipe function");l=!1===n[u-1].canEvaluate?n[u-1].value:void 0}}catch(t){var y=n[f].start;if(k[y]||i.noWarning)return;return k[y]=!0,console.warn(t.toString()+" "+ce(e.value,n.index,n.index+n.value.length,y,n[u-1].end)+(t.stack||"").substr(t.toString().length))}}return a.length?function(e){for(var n=[],t=0,r=e.length;t<r;t++)if(Array.isArray(e[t]))for(var a=0,o=e[t],u=o.length;a<u;a++)void 0!==o[a]&&null!==o[a]&&(n[n.length]=o[a]);else void 0!==e[t]&&null!==e[t]&&(n[n.length]=e[t]);return n}(a.concat(l)):l}try{var N=i.start||0,j=i.end||e.length,P=!1;for(O.unshift(i);N<j;){var T=e[N++];switch(i.level=T.indent,T.op){case n:var z=$;W(y=C(T.expression))&&(v=void 0!==v,P&&b.push(P),P=void 0,b.push(($!==z||T.noescape||i.noEncode?q:Q)(R(y,K))));break;case a:m.unshift(new w(C(T.expression))),x.unshift(0),m[0].keys.length||(N=T.index);break;case r:++x[0]>=m[0].keys.length?(m.shift(),x.shift()):N=T.index;break;case t:!C(T.condition)^T.negate&&(N=T.index);break;case o:N=T.index;break;case u:if(i.html)if(!1===P)P=void 0;else if(T.value===M&&i.indent){var U=M+V(i.indent,T.indent,i.indentPadding);0===U.indexOf(b[b.length-1])&&b.pop(),b.push(U),P=void 0}else P=T.value;else b.push(T.ovalue);break;default:P&&!T.stripWS&&b.push(P),b.push(!1===i.html?T.nvalue:i.noEncode?T.ovalue:T.value),v=!0,P=!T.stripWSEnd&&void 0}}}finally{$=$+!!v&65535,O.shift()}return i.indent&&i.indentPadding&&!i.trimStart&&b.unshift(i.indentPadding),!0===v?b.join(""):y}function ve(e,n){return be(n,e,te({},O[0],{indentPadding:void 0,trimStart:!0}))}function ye(e,n){return{html:!1!==(e=te({},me.defaultOptions,e||{})).html,noEncode:!1===e.html||e.noEncode,noWarning:e.noWarning,indent:W(e.indent)?V(e.indent,1):"",indentPadding:W(e.indentPadding)?V(e.indentPadding,1):O[0]?V(O[0].indent,O[0].level,O[0].indentPadding):"",trimStart:e.trimStart,objStack:[n],globals:se(me.globals,e.globals)}}function be(e,n,t,r){return ge(E(pe,e=R(e||"")),ye(t,n),r)}function me(e,n,t){return be(e,n,t,!0)}return fe.prototype=[],de.prototype.objectPath=function(){return(this.objectPath=z(E(X,this.textValue))).call()},de.prototype.length=function(){if("["===this.value&&void 0===this.canEvaluate){for(var e=this.next,n=1,t=1;e;e=e.next,n++)if("["===e.value)t++;else if("]"===e.value&&void 0===e.canEvaluate&&0==--t)break;return(this.length=z(n)).call()}this.length=function(){}},me.defaultOptions={},me.globals={},me.string=R,me.eval=function(e,t,r){var a=[{op:n,expression:E(he,e)}];return a.value=e,ge(a,ye(r,t))},me.pipes=te(I,{__default__:z(),keys:oe,max:Math.min,min:Math.max,abs:Math.abs,round:Math.round,floor:Math.floor,ceil:Math.ceil,asdate:j,eval:ve,as:function(e,n){var t=n.raw();return n.globals[R(_(t)?t():t)]=e},let:function(e,n){for(;n.hasArgs();){var t=n.raw();n.globals[R(_(t)?t():t)]=n.next()}},more:function(e,n){return ue(e,n,1)>0},less:function(e,n){return ue(e,n,1)<0},ormore:function(e,n){return ue(e,n,1)>=0},orless:function(e,n){return ue(e,n,1)<=0},between:function(e,n,t){var r=ue(n,t,1)>=0?[t,n]:[n,t];return ue(e,r[0],1)>=0&&ue(e,r[1],1)<=0},equals:function(e,n){return R(e)===R(n)},notequals:function(e,n){return R(e)!==R(n)},iequals:le((function(e,n){return e.toLowerCase()===n.toLowerCase()})),inotequals:le((function(e,n){return e.toLowerCase()!==n.toLowerCase()})),startswith:le((function(e,n){return n&&e.substr(0,n.length)===n})),endswith:le((function(e,n){return n&&e.substr(-n.length)===n})),even:function(e){return 0==(1&+e)},odd:function(e){return 1==(1&+e)},contains:function(e,n){return R(e).indexOf(n)>=0},like:function(e,n){return!1!==(n=E(B,n))&&n.test(e)},or:function(e,n){return e||n},not:function(e,n){return!(n.hasArgs()?n.next():e)},choose:function(e,n,t){return e?n:t},test:function(e,n){var t=n.next(),r=n.fn(z),a=n.fn(z);return t?r():a()},length:function(e){return W(e)&&+e.length||+e||0},concat:function(e,n){return R(e)+R(n)},substr:function(e,n,t){return R(e).substr(n,t)},replace:function(e,n){var t=R(n.next()),r=n.fn()||R(n.next());return R(e).replace(E(B,t)||t,r.call?function(){var e=P.apply(null,arguments);return e.input=e.pop(),e.index=e.pop(),R(r(e))}:r)},trim:function(e){return R(e).replace(/^\s+|\s+$/g,"")},trimstart:function(e){return R(e).replace(/^\s+/,"")},trimend:function(e){return R(e).replace(/\s+$/,"")},padstart:le((function(e,n){return e.substr(0,n.length)!==n?n+e:e})),padend:le((function(e,n){return e.substr(-n.length)!==n?e+n:e})),removestart:le((function(e,n){return e.substr(0,n.length)===n?e.slice(n.length):e})),removeend:le((function(e,n){return e.substr(-n.length)===n?e.slice(0,-n.length):e})),cutbefore:le((function(e,n){return e.substr(0,(e.indexOf(n)+1||e.length+1)-1)})),cutbeforelast:le((function(e,n){return e.substr(0,(e.lastIndexOf(n)+1||e.length+1)-1)})),cutafter:le((function(e,n){return e.substr(n.length+(e.indexOf(n)+1||1-n.length)-1)})),cutafterlast:le((function(e,n){return e.substr(n.length+(e.lastIndexOf(n)+1||1-n.length)-1)})),split:function(e,n){return re(R(e).split(n),q)},repeat:function(e,n){return Y(n,e)},upper:function(e){return R(e).toUpperCase()},lower:function(e){return R(e).toLowerCase()},ucfirst:function(e){return(e=R(e)).charAt(0).toUpperCase()+e.substr(1)},lcfirst:function(e){return(e=R(e)).charAt(0).toLowerCase()+e.substr(1)},hyphenate:function(e){return E(ee,e)},plus:function(e,n){return(+e||0)+(+n||0)},minus:function(e,n){return(+e||0)-(+n||0)},multiply:function(e,n){return(+e||0)*(+n||0)},divide:function(e,n){return(+e||0)/(+n||0)},mod:function(e,n){return(+e||0)%(+n||0)},pow:function(e,n){return Math.pow(+e||0,+n||0)},to:function(e,n){var t,r,a=+e,o=+n;if(isNaN(a)||isNaN(o)){var u=/(\d+|\d*\.\d+)/;if(t=R(e).replace(u,"0"),a=+A.$1,r=A.$1.length,R(n).replace(u,"0")!==t)return[e];o=+A.$1}for(var i=[],s=((o=o||0)-(a=a||0))/Math.abs(o-a),c=function(e){var n=Math.abs(e).toString();return n.length<r?new Array(r-n.length+1).join("0")+n:n};(o-a)/s>0;a+=s)i.push(t?t.replace("0",c(a)):a);return i.push(t?t.replace("0",c(o)):o),i},join:function(e,n){return[].concat(e).join(R(n))},reverse:function(e){return[].concat(e).reverse()},sort:function(e){return[].concat(e).sort(N[0])},isort:function(e){return[].concat(e).sort(N[1])},rsort:function(e){return[].concat(e).sort(N[2])},irsort:function(e){return[].concat(e).sort(N[3])},slice:function(e,n,t){return[].concat(e).slice(n,t)},unique:function(e){for(var n={},t=[],r=0,a=(e=[].concat(e)).length;r<a;++r)n.hasOwnProperty(e[r])||(n[e[r]]=!0,t.push(e[r]));return t},first:function(e,n){return ae(e,J(n,e))},any:function(e,n){return!!ae(e,J(n,e),!0)},all:function(e,n){return!ae(e,J(n,e),!0,!0)},none:function(e,n){return!ae(e,J(n,e),!0)},where:function(e,n){return re(e,J(n,e))},map:function(e,n){return re(e,z(!0),J(n,e))},sum:function(e,n){var t,r=n.fn()||(t=n.next(),n.fn()||(n.hasArgs()?J(n,e):q));return ne(e,(function(e,n){t=void 0!==t?t+r(n,e):r(n,e)})),t},sortby:function(e,n){return ie(e,n,N[0])},isortby:function(e,n){return ie(e,n,N[1])},rsortby:function(e,n){return ie(e,n,N[2])},irsortby:function(e,n){return ie(e,n,N[3])},groupby:function(e,n){var t={},r=J(n,e);return ne(e,(function(n,a){var o=R(r(a,n));t.hasOwnProperty(o)||(t[o]=e.push?[]:{}),t[o][e.push?t[o].length:n]=a})),t},addtime:function(e,n){if(!W(e=j(e)))return e;var t=E(G,n);return+new Date(t[0]+e.getFullYear(),t[1]+e.getMonth(),t[2]+e.getDate(),t[3]+e.getHours(),t[4]+e.getMinutes(),t[5]+e.getSeconds(),t[6]+e.getMilliseconds())},in:function(e,n){var t=n.next(!0);return Array.isArray(t)?t.indexOf(e)>=0:!!t&&"object"==typeof t&&e in t},"??":function(e,n){return null!=e?e:n},"!!":function(e,n){return!!(n.hasArgs()?n.next():e)},"&&":function(e,n){return e?n.reset():n.stop()},"||":function(e,n){return e?n.stop():n.reset()},"|":function(e,n){return n.push(e),n.reset()},"{":function(e,n){var t=n.globals,r=t.new,a={};for(t.new=a;n.hasArgs();){var o=n.raw();if("}"===o)break;a[R(_(o)?o():o).replace(/:$/,"")]=n.next()}return t.new=r,a},":json":function(e){return JSON.stringify(e)},":query":function(e){return C.buildParams([],e).join("&").replace(/%20/g,"+")},":date":function(e,n){var t=e instanceof Date?e:"number"==typeof e?new Date(e):new Date(Date.parse(e));return isNaN(t)?"":C.formatDate(t,n,this.DATE_LABELS)},":printf":function(e,n){return C.sprintf(n,e)}}),"|>eval ?test !not +plus -minus *multiply /divide %mod ^pow ==equals !=notequals ~=iequals !~=inotequals ^=startswith $=endswith *=contains <less <=orless >more >=ormore ..to ?:choose &concat".replace(/(\W{1,3})(\S+)\s?/g,(function(e,n,t){I[n]=I[t]})),ne("where first any all none sum map test not sortby isortby rsortby irsortby groupby replace as let in !! && || | {".split(" "),(function(e,n){I[n].varargs=!0})),I.__default__=(e=I.__default__,function(n){return"%"===n.charAt(0)?function(e){return C.sprintf(n,e)}:e(n)}),C.buildParams=function e(n,t,r){if(r&&Array.isArray(t))for(var a=0,o=t.length;a<o;a++)/\[\]$/.test(r)?n[n.length]=encodeURIComponent(r)+"="+encodeURIComponent(t[a]):e(n,t[a],r+"["+("object"==typeof t[a]&&t[a]?a:"")+"]");else if("object"==typeof t)for(var u in t)e(n,t[u],r?r+"["+u+"]":u);else n[n.length]=encodeURIComponent(r)+"="+encodeURIComponent(t);return n},
/*! sprintf.js | Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro> | 3 clause BSD license */
function(e){function n(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,n){for(var t=[];n>0;t[--n]=e);return t.join("")}var r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};r.format=function(e,a){var o,u,i,s,c,l,f,d=1,h=e.length,p="",g=[];for(u=0;u<h;u++)if("string"===(p=n(e[u])))g.push(e[u]);else if("array"===p){if((s=e[u])[2])for(o=a[d],i=0;i<s[2].length;i++){if(!o.hasOwnProperty(s[2][i]))throw r('[sprintf] property "%s" does not exist',s[2][i]);o=o[s[2][i]]}else o=s[1]?a[s[1]]:a[d++];if(/[^s]/.test(s[8])&&"number"!=n(o))throw r("[sprintf] expecting number but found %s",n(o));switch(s[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=s[7]?o.toExponential(s[7]):o.toExponential();break;case"f":o=s[7]?parseFloat(o).toFixed(s[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&s[7]?o.substring(0,s[7]):o;break;case"u":o>>>=0;break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(s[8])&&s[3]&&o>=0?"+"+o:o,l=s[4]?"0"==s[4]?"0":s[4].charAt(1):" ",f=s[6]-String(o).length,c=s[6]?t(l,f):"",g.push(s[5]?o+c:c+o)}return g.join("")},r.cache={},r.parse=function(e){for(var n=e,t=[],r=[],a=0;n;){if(null!==(t=/^[^\x25]+/.exec(n)))r.push(t[0]);else if(null!==(t=/^\x25{2}/.exec(n)))r.push("%");else{if(null===(t=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(n)))throw"[sprintf] huh?";if(t[2]){a|=1;var o=[],u=t[2],i=[];if(null===(i=/^([a-z_][a-z_\d]*)/i.exec(u)))throw"[sprintf] huh?";for(o.push(i[1]);""!==(u=u.substring(i[0].length));)if(null!==(i=/^\.([a-z_][a-z_\d]*)/i.exec(u)))o.push(i[1]);else{if(null===(i=/^\[(\d+)\]/.exec(u)))throw"[sprintf] huh?";o.push(i[1])}t[2]=o}else a|=2;if(3===a)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(t)}n=n.substring(t[0].length)}return r};e.sprintf=r,e.vsprintf=function(e,n,t){return(t=n.slice(0)).splice(0,0,e),r.apply(null,t)}}(C),
/*! formatdate.js | Copyright misonou | Released under the MIT license */
function(e){var n={d:"MM/dd/yyyy",D:"dddd, dd MMMM yyyy",f:"dddd, dd MMMM yyyy HH:mm",F:"dddd, dd MMMM yyyy HH:mm:ss",g:"MM/dd/yyyy HH:mm",G:"MM/dd/yyyy HH:mm:ss",m:"MMMM dd",M:"MMMM dd",o:"yyyy\\-MM\\-dd\\THH\\:mm\\:ss\\.fffffffK",O:"yyyy\\-MM\\-dd\\THH\\:mm\\:ss\\.fffffffK",r:"ddd, dd MMM yyyy HH\\:mm\\:ss \\G\\M\\T",R:"ddd, dd MMM yyyy HH\\:mm\\:ss \\G\\M\\T",s:"yyyy\\-MM\\-dd\\THH\\:mm\\:ss",t:"HH:mm",T:"HH:mm:ss",u:"yyyy\\-MM\\-dd HH\\:mm\\:ss\\Z",U:"dddd, dd MMMM yyyy HH:mm:ss",y:"yyyy MMMM",Y:"yyyy MMMM"},t={shortWeekday:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longWeekday:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonth:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonth:["January","February","March","April","May","June","July","August","September","October","November","December"],designator:["AM","PM"],era:["B.C.","A.D."],timeSeparator:":",dateSeparator:"/"};function r(e,n){return(e=String(e)).length>=n?e:(new Array(n+1).join("0")+e).substr(-n)}e.formatDate=function(e,a,o){a=n[a]||a||"",o=o||{};var u={};for(var i in t)u[i]=o[i]||t[i];function s(n){var t=n.length;switch(n.charAt(0)){case"d":return 4===t?u.longWeekday[e.getDay()]:3===t?u.shortWeekday[e.getDay()]:r(e.getDate(),t);case"f":case"F":var a=(e.getMilliseconds()+"000000").substr(0,t);return"f"!==n.charAt(0)&&/^0+$/.test(a)?"":a;case"g":return u.era[+(e.getFullYear()>=0)];case"h":return r(e.getHours()%12||12,t);case"H":return r(e.getHours(),t);case"m":return r(e.getMinutes(),t);case"M":return 4===t?u.longMonth[e.getMonth()]:3===t?u.shortMonth[e.getMonth()]:r(e.getMonth()+1,t);case"s":return r(e.getSeconds(),t);case"t":return u.designator[+(e.getHours()>=12)].substr(0,t);case"y":return r(t>=3?e.getFullYear():e.getYear(),t);case"K":case"z":var o=e.getTimezoneOffset();return 3===t||"K"===n?(o>=0?"-":"+")+r(0|Math.abs(o/60),2)+":"+r(Math.abs(o)%60,2):(o>=0?"-":"+")+r(0|Math.abs(o/60),t);case":":return u.timeSeparator;case"/":return u.dateSeparator}}for(var c,l=[],f=/%?(?:(?!\\)(d{1,4}|f{1,7}|F{1,7}|g{1,2}|h{1,2}|H{1,2}|K|m{1,2}|M{1,4}|s{1,2}|t{1,2}|y{1,5}|z{1,3}|\:|\/))|\\?(.)/g;null!==(c=f.exec(a));)l.push(c[1]?s(c[1]):c[2]);return l.join("")}}(C),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"undefined"!=typeof document&&document.querySelectorAll&&ne(document.querySelectorAll('script[type="text/x-waterpipe"]'),(function(e,n){I[n.id]=n.innerHTML})),me.with=function(){return me},me.version="2.9.0",me}();return e.default=n,e=e.default}()}));
//# sourceMappingURL=waterpipe.min.js.map